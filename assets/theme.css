/* ==========================================================
   PNHS · theme.css  (desktop: hover dropdowns • mobile: tap)
   ========================================================== */

/* -------------------- Design Tokens -------------------- */
:root{
  --bg:#ffffff;
  --text:#1b1f23;
  --muted:#5a636c;
  --brand:#0d2b45;     /* deep blue */
  --brand-2:#0fa3b1;   /* teal */
  --accent:#f6aa1c;    /* warm accent */
  --border:#e6e8eb;
  --card:#f9fafb;
  --radius:14px;
  --shadow:0 6px 20px rgba(0,0,0,.06);
  --font:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  --maxw:1100px;
}

/* -------------------- Base -------------------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); background:var(--bg); font-family:var(--font); line-height:1.6;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}
img{max-width:100%; height:auto; display:block}
a{color:var(--brand-2); text-decoration:none}
a:hover{text-decoration:underline}
.wrap{max-width:var(--maxw); margin:0 auto; padding:0 16px}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.skip-link{position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden}
.skip-link:focus{left:16px; top:16px; padding:8px 12px; background:#fff; border:1px solid var(--brand); z-index:1000}

/* Headings & prose */
h1,h2,h3{margin:.2rem 0 .4rem; letter-spacing:.2px}
h1{font-size:clamp(1.8rem,2vw + 1rem,2.4rem); color:var(--brand)}
h2{font-size:1.4rem}
h3{font-size:1.15rem}
.section-sub{color:var(--muted); margin-top:-.25rem}
.prose p{margin:.6rem 0; color:var(--text)}
.u-underline{text-decoration:underline}

/* -------------------- Buttons -------------------- */
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:10px 14px; border-radius:12px; background:var(--brand-2); color:#fff;
  border:1px solid transparent; box-shadow:var(--shadow); font-weight:600;
}
.btn:hover{filter:brightness(0.96); text-decoration:none}
.btn--primary{background:var(--brand)}

/* ==========================================================
   HEADER & NAV (desktop hover • mobile tap)
   ========================================================== */
.site-header{
  position:sticky; top:0; z-index:50; background:#fff; border-bottom:1px solid var(--border);
}
.site-header .wrap{display:flex; align-items:center; gap:16px; padding:14px 16px}

.brand{display:flex; align-items:center; gap:12px; text-decoration:none}
.brand__logo{width:48px; height:auto}
.brand__title{display:block; font-weight:700; color:var(--brand); letter-spacing:.2px}
.brand__subtitle{color:var(--muted); font-size:.9rem}

/* Nav layout */
.nav{display:flex; align-items:center; justify-content:space-between; width:100%}
.nav__toggle{display:none; background:none; border:0; font-size:1.25rem; padding:8px; margin-left:auto}
.nav__menu{position:relative; margin-left:auto}

/* One-line primary row on desktop */
.nav__row{
  display:flex; align-items:center; gap:18px;
  list-style:none; margin:0; padding:0;
  white-space:nowrap; flex-wrap:nowrap;
}
.nav__row > li{position:relative}

/* Top-level links and dropdown triggers */
.nav__row > li > a,
.nav__link{
  padding:10px 12px; border-radius:10px; color:var(--text);
  background:transparent; border:0; cursor:pointer; text-decoration:none; font:inherit;
}
.nav__row > li > a:hover,
.nav__link:hover{background:#f6f9ff; text-decoration:none}
a[aria-current="page"]{background:#eef7fb; color:var(--brand); border-radius:10px}

/* ▼ caret on triggers */
.nav__link::after{content:" ▾"; font-size:.8em; margin-left:4px}

/* Dropdown panel (vertical) */
.nav__panel{
  display:none;
  position:absolute; top:100%; left:0;   /* sits flush — no gap */
  min-width:220px;
  background:#fff; border:1px solid var(--border);
  border-radius:12px; box-shadow:var(--shadow); padding:8px;
  z-index:1000;
}
.nav__panel a{display:block; padding:8px 10px; border-radius:8px; color:var(--text)}
.nav__panel a:hover{background:#f2f6ff}

/* Invisible hover bridge to prevent flicker if you keep a shadow gap */
.nav__panel::before{
  content:""; position:absolute; left:0; right:0; top:-8px; height:8px;
}

/* Desktop: show while hovering the trigger OR the panel */
@media (min-width:961px){
  .nav__dropdown:hover > .nav__panel,
  .nav__dropdown:focus-within > .nav__panel{
    display:block;
  }
}

/* Mobile (tap-to-open) */
@media (max-width:960px){
  .nav__toggle{display:block}
  #navmenu{
    position:absolute; left:0; right:0; top:64px; background:#fff;
    border-bottom:1px solid var(--border); display:none;
  }
  #navmenu.open{display:block}
  .nav__row{flex-direction:column; align-items:stretch; gap:0; white-space:normal}
  .nav__row > li > a, .nav__link{width:100%; padding:14px 16px; text-align:left}
  .nav__panel{position:static; border:0; box-shadow:none; padding:0 0 8px 16px; min-width:auto}
  .nav__dropdown.open > .nav__panel{display:block} /* JS toggles .open on parent */
}

/* -------------------- Hero -------------------- */
.hero{
  background:linear-gradient(135deg, rgba(13,43,69,.07), rgba(15,163,177,.07));
  border-bottom:1px solid var(--border);
}
.hero .wrap{padding:28px 16px 32px}
.search{margin:18px 0 8px; display:flex; gap:8px}
.search input{flex:1; border:1px solid var(--border); padding:10px 12px; border-radius:12px; font-size:1rem}

/* -------------------- Slider (optional) -------------------- */
.slider{position:relative; border:1px solid var(--border); background:#fff; border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow)}
.slider__track{display:flex; transition:transform .45s ease; will-change:transform}
.slider__slide{min-width:100%; aspect-ratio:16/6; background:#eef3f6; display:grid; place-items:center}
.slider__slide img{width:100%; height:100%; object-fit:cover}
.slider__btn{
  position:absolute; top:50%; transform:translateY(-50%);
  background:#fff; border:1px solid var(--border); width:40px; height:40px; border-radius:999px;
  display:grid; place-items:center; box-shadow:var(--shadow); cursor:pointer;
}
.slider__btn--prev{left:12px} .slider__btn--next{right:12px}
.slider__dots{position:absolute; left:0; right:0; bottom:10px; display:flex; gap:6px; justify-content:center}
.slider__dot{width:9px; height:9px; border-radius:999px; background:rgba(0,0,0,.15); border:0}
.slider__dot[aria-current="true"]{background:var(--brand-2)}

/* -------------------- Layout -------------------- */
main.wrap{display:grid; grid-template-columns:1fr; gap:20px; margin:24px auto}
.section-head{display:flex; gap:12px; align-items:end; justify-content:space-between; margin-top:4px}

/* -------------------- Cards & Grids -------------------- */
.card{
  background:#fff; border:1px solid var(--border); border-radius:var(--radius);
  padding:16px; box-shadow:var(--shadow);
}
.grid{display:grid; gap:16px}
.grid--2{grid-template-columns:1fr}
.grid--3{grid-template-columns:1fr}
.grid--4{grid-template-columns:1fr}
@media (min-width:760px){
  .grid--2{grid-template-columns:repeat(2,1fr)}
  .grid--3{grid-template-columns:repeat(3,1fr)}
  .grid--4{grid-template-columns:repeat(4,1fr)}
}

.center-img{display:flex; justify-content:center}
.center-img img{width:min(40%,420px); border-radius:12px; border:1px solid var(--border); box-shadow:var(--shadow)}

/* Lists */
.list{padding-left:18px}
.list.check li{list-style:'✔️  '}
.tiles{display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:12px; background:#f9fbff; border-radius:var(--radius); padding:12px}

/* Timeline */
.timeline{list-style:none; padding:0; margin:0; border-left:3px solid #e8eefc}
.timeline li{position:relative; padding:10px 0 10px 20px}
.timeline li::before{content:''; position:absolute; left:-9px; top:16px; width:12px; height:12px; border-radius:50%; background:var(--brand-2)}

/* Subheader band */
.subheader{background:linear-gradient(180deg,#f6f9ff,#fff); border-bottom:1px solid #e8eefc}
.subheader .wrap{padding:30px 16px}

/* Article page */
.article{max-width:850px}
.article .meta{color:var(--muted); margin:6px 0 18px}
.article img{border-radius:12px}

/* Gallery masonry */
.gallery__grid{columns:3; column-gap:12px}
.gallery__grid img{border-radius:12px; margin:0 0 12px 0}
@media (max-width:900px){.gallery__grid{columns:1}}

/* -------------------- Org Sections -------------------- */
.org-section{margin:10px 0 22px}
.org-grid{display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.org-card{
  background:#fff; border:1px solid var(--border); border-radius:var(--radius);
  padding:14px; box-shadow:var(--shadow); text-align:center;
}
.org-card img{width:100%; height:200px; object-fit:cover; border-radius:12px; margin-bottom:10px; background:#eef2f5}
.org-card h3{margin:.25rem 0 .15rem; color:var(--brand)}
.org-name{color:var(--muted)}
.org-depts{display:grid; gap:14px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.dept-card{background:#fff; border:1px solid var(--border); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow)}

/* Simple org tree */
.org-tree{display:flex; justify-content:center; margin-top:8px}
.org-node{position:relative}
.org-node__card{background:#fff; border:1px solid var(--border); border-radius:12px; padding:10px 12px; box-shadow:var(--shadow); min-width:220px; text-align:center}
.org-node--top::after{content:""; position:absolute; left:50%; transform:translateX(-50%); top:calc(100% + 2px); width:2px; height:16px; background:var(--border)}
.org-branches{display:flex; gap:16px; margin-top:26px; position:relative; padding-top:14px}
.org-branches::before{content:""; position:absolute; top:0; left:8px; right:8px; height:2px; background:var(--border)}
.org-branch{position:relative; padding-top:16px}
.org-branch::before{content:""; position:absolute; top:0; left:50%; transform:translateX(-50%); width:2px; height:16px; background:var(--border)}

/* -------------------- Footer -------------------- */
.site-footer{margin-top:16px; border-top:1px solid var(--border); background:#fff}
.footer-grid{display:grid; gap:16px; padding:18px 16px}
@media (min-width:760px){.footer-grid{grid-template-columns:2fr 1fr 1fr}}
.site-footer h4{margin:.2rem 0 .4rem; color:var(--brand)}
.site-footer ul{list-style:none; padding:0; margin:0}
.site-footer li{padding:4px 0}
.footer-note, .footnote{color:var(--muted); text-align:center; padding:12px 16px; border-top:1px solid var(--border)}

/* -------------------- Utilities -------------------- */
.backtotop{text-align:center; margin:6px 0 24px}
.hidden{display:none}
